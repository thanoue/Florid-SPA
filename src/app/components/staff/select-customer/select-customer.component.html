<div class="page-content" id="customerInfo">
    <div class="container">
        <div class="row checkTop search">
            <div class="col-10 filterSearch">
                <mobile-search-box (searchTextInvoke)="searchCustomer($event)" [delayTimeSpan]="1000"
                    placeholder="Tên hoặc số điện thoại KH...">
                </mobile-search-box>
            </div>
            <div class="col-2 filterAdd text-right">
                <button class="main-bg" onclick="openAddInfo()"><img src="../../../../assets/images/addnew.svg" alt=""
                        class="main-filter"></button>
            </div>
        </div>
        <div class="nameTable">
            <div class="tableHead">
                <div class="tableLeft">Họ tên</div>
                <div class="tableCenter">SDT</div>
                <div class="tableRight">Thành viên</div>
            </div>
            <div class="tableBody cusScroll" id="customer-list">
                <div class="tableRow main-bg customer-item" onclick="selectItem(this,'.customer-item')"
                    *ngFor="let customer of customers" [attr.data-id]="customer.Id">
                    <div class="tableLeft">{{customer.FullName}}</div>
                    <div class="tableCenter">{{customer.PhoneNumber}}</div>
                    <div class="tableRight">{{customer.MembershipInfo.MembershipType}}</div>
                </div>
            </div>
        </div>
        <div class="row prodDone">
            <div class="col-8 mx-auto text-center">
                <a (click)="selectConfirm()" href="javascript:void(0);" class="btn main-btn w-100">Xong</a>
            </div>
        </div>
    </div>
</div>
<div id="infoAdd" class="popup-content">
    <form #form="ngForm" (submit)="addCustomer(form)" autocomplete="on" class="addInfoForm">

        <div class="form-group">
            <input type="text" name="Id" [(ngModel)]="newCustomer.Id" id="Id" required minlength="3" class="mainForm"
                placeholder="Mã KH..." #Id="ngModel">

            <div *ngIf="Id.invalid && (Id.dirty || Id.touched)" class="alert alert-danger">

                <div *ngIf="Id.errors.required">
                    Mã là bắt buộc
                </div>
                <div *ngIf="Id.errors.minlength">
                    Tên tối thiểu 3 ký tự
                </div>
            </div>

        </div>

        <div class="form-group">
            <input type="text" name="FullName" [(ngModel)]="newCustomer.FullName" id="FullName" minlength="1"
                class="mainForm" placeholder="Tên đầy đủ ..." #FullName="ngModel">

            <div *ngIf="FullName.invalid && (FullName.dirty || FullName.touched)" class="alert alert-danger">

                <div *ngIf="FullName.errors.minlength">
                    Tên tối thiểu 1 ký tự
                </div>

            </div>

        </div>

        <div class=" form-group">
            <select class="mainForm" id="newCustomer.Sex" name="newCustomer.Sex" [(ngModel)]="newCustomer.Sex">
                <option selected>Danh xưng</option>
                <option [ngValue]="'Male'">Anh</option>
                <option [ngValue]="'Female'">Chị</option>
            </select>
        </div>

        <div class="form-group">
            <input type="tel" name="PhoneNumber" [(ngModel)]="newCustomer.PhoneNumber" id="PhoneNumber" minlength="3"
                class="mainForm" placeholder="Số điện thoại..." #PhoneNumber="ngModel">

            <div *ngIf="PhoneNumber.invalid && (PhoneNumber.dirty || PhoneNumber.touched)" class="alert alert-danger">
                <div *ngIf="PhoneNumber.errors.minlength">
                    SDT tối thiểu 3 ký tự
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-6 mx-auto text-center">
                <button type="button" id="cancel-button" class="btn grey-btn w-100 mt-3">Hủy</button>
            </div>
            <div class="col-6 mx-auto text-center">
                <button type="submit" class="btn main-btn w-100 mt-3 btn-success">Lưu</button>
            </div>
        </div>
    </form>
</div>

<div id="colorBoard" class="popup-content">
    <ul class="colorList">
        <li class="colorInfo">
            <label>Họ tên:</label> <span>{{selectedCustomer.FullName}}</span>
        </li>
        <li class="colorInfo">
            <label>SDT: </label><span>{{selectedCustomer.PhoneNumber}}</span>
        </li>
        <li class="colorInfo">
            <label>Danh xưng: </label><span>{{selectedCustomer.Sex}}</span>
        </li>
        <li class="colorInfo" *ngIf="selectedCustomer.Birthday && selectedCustomer.Birthday >0">
            <label>Ngày sinh: </label><span>{{selectedCustomer.Birthday | myDatePipe}}</span>
        </li>
        <li *ngIf="selectedCustomer.ContactInfo && selectedCustomer.ContactInfo.Facebook" class="colorInfo">
            <label>Facebook: </label><span>{{selectedCustomer.ContactInfo.Facebook }}</span>
        </li>
        <li *ngIf="selectedCustomer.ContactInfo && selectedCustomer.ContactInfo.Zalo" class="colorInfo">
            <label>Zalo: </label><span>{{selectedCustomer.ContactInfo.Zalo }}</span>
        </li>
        <li *ngIf="selectedCustomer.ContactInfo && selectedCustomer.ContactInfo.Instagram" class="colorInfo">
            <label>Instagram: </label><span>{{selectedCustomer.ContactInfo.Instagram}}</span>
        </li>
        <li *ngIf="selectedCustomer.ContactInfo && selectedCustomer.ContactInfo.Skype" class="colorInfo">
            <label>Skype: </label><span>{{selectedCustomer.ContactInfo.Skype }}</span>
        </li>
    </ul>
</div>