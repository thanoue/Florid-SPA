function initLeftMenu(){jQuery(".mainMenu li.hasChildren").append('<span class="showSubMenu"></span>'),jQuery(".menuItem-link").click((function(){jQuery(this).parent().toggleClass("show")})),jQuery(".menuToggle").click((function(){jQuery(".adminWrapper").toggleClass("mini")})),jQuery(".menuItem-link").click()}function confirmDialog(e,n,o,i){var t=`<div class="popupDialog" id="confirmDialog">\n    <h4 class="confirmText">${e}</h4>\n    <div class="confirmAct">\n        <button class="yes btn btn-info" id="yesBtnConfirmDialog">Yes</button>\n        <button class="no btn btn-outline-info" id="noBtnConfirmDialog">No</button>\n    </div>\n        </div>`;jQuery("body").append("<div class='overlayDiv'></div>"),jQuery("body").append(t),jQuery("#confirmDialog").fadeIn(350),jQuery("#yesBtnConfirmDialog").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(".overlayDiv").remove(),jQuery(this).remove(),null!=n&&n()})),jQuery(".overlayDiv").off("click"),jQuery("#noBtnConfirmDialog").off("click")})),jQuery("#noBtnConfirmDialog").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(".overlayDiv").remove(),jQuery(this).remove(),null!=o&&o()})),jQuery(".overlayDiv").off("click"),jQuery("#yesBtnConfirmDialog").off("click")})),jQuery(".overlayDiv").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(".overlayDiv").remove(),jQuery(this).remove(),null!=i&&i()})),jQuery("#yesBtnConfirmDialog").off("click"),jQuery("#noBtnConfirmDialog").off("click")}))}function messageDialog(e,n){jQuery("body").append("<div class='overlayDiv'></div>");var o=`<div class="popupDialog" id="messageDialog">\n    <h4 class="confirmText">${e}</h4>\n    <div class="confirmAct">\n        <button class="no btn btn-info" id="okBtnMsgDialog">OK</button>\n    </div>\n    </div>`;jQuery("body").append(o),jQuery("#messageDialog").fadeIn(350),jQuery("#okBtnMsgDialog").one("click",(function(){jQuery("#messageDialog").hide(250,(function(){jQuery(".overlayDiv").remove(),jQuery(this).remove(),null!=n&&n()}))})),jQuery(".overlayDiv").one("click",(function(){jQuery("#messageDialog").hide(250,(function(){jQuery(".overlayDiv").remove(),jQuery(this).remove()}))}))}function showOrderDetail(e){jQuery(e).parent().parent().next().toggle(250)}function showReceiverSetupPopup(){jQuery("#receiverAdd").slideDown(350)}function showProductSetupPopup(){jQuery("#productAdd").slideDown(350)}function showCustomerSetupPopup(){jQuery("#customerAdd").slideDown(350)}function showPurchaseSetupPopup(){jQuery("#purchaseSetup").slideDown(350)}function showDebtSetupPopup(){jQuery("#debtsPopup").slideDown(350)}function showTagEditPopup(){jQuery("#tagAddPopup").slideDown(350)}function showCategoryEditPopup(){jQuery("#categoryAddPopup").slideDown(350)}function showUserEditPopup(){jQuery("#userAdd").slideDown(350)}function showPromotionEditPopup(){jQuery("#promotionAddPopup").slideDown(350)}function getMomoConfig(){return"undefined"!=typeof Android&&null!==Android?JSON.parse(Android.geMomoConfig()):{partnerCode:"MOMO6B4T20200319",storeId:"florid_1",secretkey:"gPefAYXMR3jQQ44bBU4oRjIzOC6Awsa0",accessKey:"kcWTrI6rGUHxnFlq",publicKey:"MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqxVXfFBhTYk6kOYbdPK9jx5ZH7Im5PR0g6JWhrmPbFo1mQE/vgM0uc2MH6VF/fuxQUOGFmtNnBNyZgnWYWHUCL4/fYql0AdtvwFYrSnVwbJXdyhrYSrMD1uOIgVORn1h/9WlkHKIn40YT5c/3p7GDofqwX65HanLGKDb9FJRXPtoo0yv0OVRQxL1QVvkXpQMa2ZK8mSBz04wYNw5LPvtXKEoTQTjcVSK1+JWsltaF9qOvIK4GiuqnY17uFoVcBD7cutyim4HxG7j97/ac4s0zP/48wlPNsn6vCc20XrtIhb3iGMxPrxMiQUhzvgnPcQ81a4OcUUTFMcXUTmeOYQwn8Rq/p0rQJcADyif267h/HvaJNxtowdesdxlBSlAd0JyalG8Y+7FxwsWu0YiX5PQhedJuUjj1CW86DwIM8FH9NDjvCRoo4f/Ap5F7DpJtwywrqi7nkUsD9U8EOLggk6+X5D8LsODnbuuLnpZDz281goH52ovsZhujN2SE3ErXaXF7YPvRxPVMd+m4VYW+fGtK5JU4rfFkux+W5WId7EaWxNdP0E5eMcMQhnbuBZQAvFG+KxN11GKc7RHtJM+9hBfBvMRiL7MtXDrbLOiipBigRXyxBX85zwuepi7YQAhDeuktQI9bpEB+R+xU7PZHMdXZ5b/zNnB8dc/pE+7ZFmFWSkCAwEAAQ=="}}function deviceLogin(e,n,o,i){"undefined"!=typeof Android&&null!==Android&&Android.login(e,n,o,i)}function setStatusBarColor(e){"undefined"!=typeof Android&&null!==Android&&Android.setStatusBarColor(e)}function getInput(e){}function getDateSelecting(e,n,o){"undefined"!=typeof Android&&null!==Android&&Android.requestDateSelecting(e,n,o)}function setDate(e,n,o){window.BaseReference.zone.run(()=>{window.BaseReference.dateSelected(e,n,o)})}function getTimeSelecting(e,n){"undefined"!=typeof Android&&null!==Android&&Android.requestTimeSelecting(e,n)}function setTime(e,n){window.BaseReference.zone.run(()=>{window.BaseReference.timeSelected(e,n)})}function setDateTime(e,n,o,i,t){window.BaseReference.zone.run(()=>{window.BaseReference.dateTimeSelected(e,n,o,i,t)})}function backNavigate(){window.BaseReference.zone.run(()=>{window.BaseReference.forceBackNavigate()})}function doPrintJob(e){"undefined"!=typeof Android&&null!==Android?Android.doPrintJob(JSON.stringify(e)):errorToast("Không thể kết nối tới máy in!")}function reprintOrderConfirm(){window.BaseReference.zone.run(()=>{window.BaseReference.printConfirm((function(){"undefined"!=typeof Android&&null!==Android&&Android.doOldPrintJob()}))})}function isOnTerminal(){return"undefined"!=typeof Android&&null!==Android}function fileChosen(e){window.BaseReference.zone.run(()=>{window.BaseReference.fileChosen(e)})}function getProductsFromCache(e){return"undefined"!=typeof Android&&null!==Android?Android.getProductsFromCache(e):"NONE"}function addProductsToCache(e){"undefined"!=typeof Android&&null!==Android&&Android.addProductsToCache(JSON.stringify(e))}function moveCursor(e,n){$("#"+e)[0].setSelectionRange(n,n)}function alert(e,n){"undefined"!=typeof Android&&null!==Android?Android.alert(e,n):window.ToastReference.zone.run(()=>{window.ToastReference.toastShowing(e,n)})}function errorToast(e){alert(e,1)}function successToast(e){alert(e,2)}function infoToast(e){alert(e,0)}function warningToast(e){alert(e,3)}function pickFile(e){"undefined"!=typeof Android&&null!==Android&&(e?Android.pickFileForShare():Android.pickFile())}function deleteTempImage(){"undefined"!=typeof Android&&null!==Android&&Android.releaseTempImage()}function shareImageCus(e){"undefined"!=typeof Android&&null!==Android&&Android.shareImage(e)}function shareImageCusWithData(e,n){if("undefined"!=typeof Android&&null!==Android)Android.shareNewImage(e,n);else{var o={dataType:"sharingImg",data:JSON.stringify({contactInfo:n,imgData:e})};webkit.messageHandlers.callback.postMessage(JSON.stringify(o))}}function isOnMobile(){return"undefined"!=typeof Android&&null!==Android||!("undefined"==typeof webkit||null==webkit||!webkit.messageHandlers||!webkit.messageHandlers.callback)}function savedLoginInforGettingRequest(){isOnMobile()&&("undefined"!=typeof Android&&null!==Android?Android.savedLoginInforGettingRequest():webkit.messageHandlers.callback.postMessage(JSON.stringify({dataType:"savedLoginInforGettingRequest",data:""})))}function isRememberPassChecking(){isOnMobile()&&("undefined"!=typeof Android&&null!==Android?Android.isRememberPassChecking():webkit.messageHandlers.callback.postMessage(JSON.stringify({dataType:"isRememberPassChecking",data:""})))}function savedLoginInforReturn(e,n){window.BaseReference.zone.run(()=>{window.BaseReference.savedLoginInforReturn(e,n)})}function rememberPassConfirm(){window.BaseReference.zone.run(()=>{window.BaseReference.rememberPassConfirm()})}function mobileLogin(e,n){if(isOnMobile())if("undefined"!=typeof Android&&null!==Android)Android.mobileLogin(e,n);else{var o={dataType:"mobileLogin",data:JSON.stringify({loginName:e,passcode:n})};webkit.messageHandlers.callback.postMessage(JSON.stringify(o))}}function passwordSaving(){isOnMobile()&&("undefined"!=typeof Android&&null!==Android?Android.passwordSaving():webkit.messageHandlers.callback.postMessage(JSON.stringify({dataType:"passwordSaving",data:""})))}function passwordClearing(){isOnMobile()&&("undefined"!=typeof Android&&null!==Android?Android.passwordClearing():webkit.messageHandlers.callback.postMessage(JSON.stringify({dataType:"passwordClearing",data:""})))}function filterFocus(){let e=jQuery(".filterCate").parent();e.hasClass("search")&&e.removeClass("search")}function searchFocus(e){let n=jQuery(e).parent();n.hasClass("search")||n.addClass("search"),jQuery(".prodFilter .filterSearch .form-control").first().focus()}function createNumbericElement(e,n){jQuery('<div class="quantity-button quantity-down">-</div>').insertBefore(".prodQuantity input"),jQuery('<div class="quantity-button quantity-up">+</div>').insertAfter(".prodQuantity input"),jQuery(".prodQuantity").each((function(){var o=jQuery(this),i=o.find('input[type="number"]'),t=o.find(".quantity-up"),r=o.find(".quantity-down"),a=i.attr("min");e||(t.click((function(){var e=parseFloat(i.val())+1;o.find("input").val(e),o.find("input").trigger("change"),n(e)})),r.click((function(){var e=parseFloat(i.val());if(e<=a)var t=e;else t=e-1;o.find("input").val(t),o.find("input").trigger("change"),n(t)})))}))}function appendInBody(){return jQuery("body").find(".overlay-dark").length?(jQuery("body").append("<div class='overlay-dark layer2'></div>"),!1):(jQuery("body").append("<div class='overlay-dark'></div>"),!0)}function customerSupport(){jQuery("body").append("<div class='overlay-dark'></div>"),jQuery(".customer-support").css({left:"0",opacity:"1"}),jQuery(".customer-support #logoutBtn").one("click",(function(){jQuery(".overlay-dark").remove()})),jQuery(".overlay-dark").one("click",(function(){jQuery(".customer-support #logoutBtn").off("click"),jQuery(".customer-support").css({left:"-80vw",opacity:"0"}),jQuery(this).remove()}))}function menuOpen(e,n){var o="";let i=0;n.forEach((function(e){o+=`<li><a class="menu-item-dynamic" data-value="${i}" >${e}</a></li>`,i+=1})),slideUp(`<div class="actionMenu" style="z-index:999;">\n        <ul>\n           ${o}\n        </ul>\n    </div>`,(function(n){e(n)}))}function selectProductCategory(e,n){actionMenuSelecting(e,n)}function filterOrderByState(e,n){actionMenuSelecting(e,n)}function actionMenuSelecting(e,n){let o="";e.forEach(e=>{o+=`<li><a class="menu-item-dynamic" data-index="0" data-value="${e.Value}"  href="javascript:void(0)">${e.Name}</a></li>`}),slideUp(`<div class="actionMenu">\n    <ul>\n     ${o}\n    </ul>\n    </div>`,(function(e){n(e)}))}function openProgMenu(){slideUp('<div class="actionMenu">\n        <ul>\n            <li><a class="menu-item-dynamic" data-index="0" href="javascript:void(0)">Nhận đơn</a></li>\n            <li><a  class="menu-item-dynamic" data-index="1"  href="javascript:void(0)">Chi tiết sản phẩm</a></li>\n        </ul>\n        </div>',(function(e){switch(e){case"0":alert("Nhận đơn");break;case"1":window.location="./chi-tiet.html"}}))}function openCompMenu(){slideUp('<div class="actionMenu">\n        <ul>\n            <li><a class="menu-item-dynamic" data-index="0" href="javascript:void(0)">Hoàn thành đơn</a></li>\n            <li><a  class="menu-item-dynamic" data-index="1"  href="javascript:void(0)">Chi tiết sản phẩm</a></li>\n        </ul>\n        </div>',(function(e){switch(e){case"0":alert("Hoàn thành đơn");break;case"1":window.location="./chi-tiet.html"}}))}function openQR(){jQuery("#purchase-dialog").slideUp(100,(function(){jQuery("#codeQR").slideDown(100)}))}function qrDone(){jQuery("#codeQR").slideUp(100,(function(){jQuery("#purchase-dialog").slideDown(100)}))}function dismissPurchaseDialog(){jQuery("#purchase-dialog").slideUp(250,(function(){jQuery(".overlay-dark").remove()}))}function purchaseDoing(e){appendInBody(),jQuery("#purchase-dialog").slideDown(250),jQuery(".overlay-dark").click((function(){jQuery("#purchase-dialog").slideUp(250,(function(){jQuery(".overlay-dark").remove(),jQuery("#codeQR").slideUp(250),null!=e&&e()}))}))}function dissmissAddPurchaseDialog(){jQuery("#addPurchase").slideUp(250,(function(){jQuery(".overlay-dark").remove()}))}function openAddPurchaseDialog(){appendInBody(),jQuery("#addPurchase").slideDown(250),jQuery(".overlay-dark").click((function(){jQuery("#addPurchase").slideUp(250,(function(){jQuery(".overlay-dark").remove()}))}))}function openCustMenu(){appendInBody(),jQuery("#recentInfo").slideDown(250),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#recentInfo").slideUp(250,(function(){jQuery(".overlay-dark").remove()}))}))}function selectSavedDeliveryInfo(e){let n=parseInt(jQuery(e).attr("data-index"));window.DeliveryInfoReference.zone.run(()=>{window.DeliveryInfoReference.selectDeliveryInfo(n)}),hideReceiverPopup()}function hideReceiverPopup(){jQuery("#recentInfo").slideUp(250,(function(){jQuery(".overlay-dark").remove()}))}function slideUp(e,n){let o=appendInBody();jQuery("body").append(e),jQuery(".actionMenu").slideDown(350),jQuery(".actionMenu a.menu-item-dynamic").one("click",(function(){jQuery(this).attr("data-index");var e=jQuery(this).attr("data-value");jQuery(".actionMenu").slideUp(250,(function(){jQuery(".actionMenu").remove(),o?jQuery(".overlay-dark").remove():jQuery(".overlay-dark.layer2").remove(),jQuery(".overlay-dark:not(.layer2)").off("click"),jQuery(".overlay-dark.layer2").off("click"),n(e)}))})),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery(".actionMenu").slideUp(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove(),jQuery(this).remove()}))})),jQuery(".overlay-dark.layer2").one("click",(function(){jQuery(".actionMenu").slideUp(250,(function(){jQuery(".overlay-dark.layer2").remove(),jQuery(this).remove()}))}))}function messageDialog(e,n){let o=appendInBody();var i=`<div id="loginerror" class="popup-content">\n    <img src="../../../assets/images/alert.png" alt="">\n    <p>${e}</p>\n    <span>${n}</span>\n    </div>`;jQuery("body").append(i),jQuery("#loginerror").fadeIn(350);let t="";t=o?".overlay-dark:not(.layer2)":".overlay-dark.layer2",jQuery(t).one("click",(function(){jQuery("#loginerror").hide(250,(function(){jQuery(t).remove(),jQuery(this).remove()}))}))}function openColorBoard(){appendInBody(),jQuery("#colorBoard").fadeIn(350),jQuery(".overlay-dark:not(.layer2)").click((function(){jQuery("#colorBoard").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function openAddInfo(){appendInBody(),jQuery("#infoAdd").fadeIn(350),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#infoAdd").hide(250,(function(){jQuery(".overlay-dark").remove()}))})),jQuery("#infoAdd #cancel-button").one("click",(function(){jQuery("#infoAdd").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function closeAddCustomerDialog(){jQuery("#infoAdd").hide(250,(function(){jQuery(".overlay-dark").remove()}))}function openOrderConfirm(){appendInBody(),jQuery("#orderConfirm").fadeIn(350),jQuery(".overlay-dark:not(.layer2)").click((function(){jQuery("#orderConfirm").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function openDeliConfirm(){appendInBody(),jQuery("#deliConfirm").fadeIn(350),jQuery(".overlay-dark:not(.layer2)").click((function(){jQuery("#deliConfirm").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function openViewed(){appendInBody(),jQuery("#viewed").fadeIn(350),jQuery(".overlay-dark:not(.layer2)").click((function(){jQuery(".popup-content").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function dismissShipperSelecting(e){jQuery(".popup-content").hide(250,(function(){jQuery(".overlay-dark").remove(),e()}))}function openExcForm(e){let n=jQuery("#exchangeAdd #exchange-val").first();n.val("");let o=appendInBody(),i="";i=o?".overlay-dark:not(.layer2)":".overlay-dark.layer2",jQuery("#exchangeAdd").fadeIn(350),n.focus(),jQuery("#exchangeAdd .exchange-confirm").off("click"),jQuery("#exchangeAdd .exchange-confirm").on("click",(function(){let n=jQuery("#exchangeAdd #exchange-val").first().val();!n||parseInt(n)<0?warningToast("Yêu cầu nhập số dương"):e(parseInt(n),(function(e){e&&jQuery("#exchangeAdd").hide(250,(function(){jQuery(i).remove()}))}))})),jQuery(i).one("click",(function(){jQuery("#exchangeAdd").hide(250,(function(){jQuery(i).remove()}))}))}function getNumberValidateInput(e,n,o){var i=`<div id="inputDialog" class="popup-content dialog-popup"><div class="form-group">\n    <input type="number" name="" id="input-value" class="mainForm" value="${o}" placeholder="${n}"></div>\n    <div class="row"><div class="col-6"><button id="confirm-button" class=" main-btn btn">Xác nhận</button></div>\n    <div class="col-6"><button  id="cancel-button" class=" main-bg border btn">Hủy</button></div></div></div>`;appendInBody(),jQuery("body").append(i),jQuery("#inputDialog").fadeIn(350),jQuery(".overlay-dark").one("click",(function(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog #cancel-button").one("click",(function(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog #confirm-button").on("click",(function(){var n=jQuery("#inputDialog #input-value").first().val();n&&NaN!==parseInt(n)&&e(parseInt(n),(function(e,n,o){e?(jQuery(this).off("click"),jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),null!=o&&o()}))):warningToast(n)}))}))}function dismissFixPriceDialog(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove()}))}function openFixPriceDialog(){appendInBody(),jQuery("#inputDialog").fadeIn(350),jQuery(".overlay-dark").one("click",(function(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove()}))}))}function getNumberInput(e,n,o){var i=`<div id="inputDialog" class="popup-content dialog-popup"><div class="form-group">\n    <input type="number" name="" id="input-value" class="mainForm" value="${o}" placeholder="${n}"></div>\n    <div class="row"><div class="col-6"><button id="confirm-button" class=" main-btn btn">Xác nhận</button></div>\n    <div class="col-6"><button  id="cancel-button" class=" main-bg border btn">Hủy</button></div></div></div>`;appendInBody(),jQuery("body").append(i),jQuery("#inputDialog").fadeIn(350),jQuery(".overlay-dark").one("click",(function(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog #cancel-button").one("click",(function(){jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog #confirm-button").one("click",(function(){var n=jQuery("#inputDialog #input-value").first().val();n&&NaN!==parseInt(n)&&jQuery("#inputDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),e(parseInt(n))}))}))}function getShippingNoteDialog(e,n){var o=`<div id="shipping-note-popup" class="popup-content">\n            <div class="form-group">\n\n                <label class="custom-label">Ghi chú: </label>\n\n                <textarea id="shippingNote" style="width:100%;height:130px"\n                    name="shippingNote" class="mainForm" ></textarea>\n            </div>\n\n            <div class="row">\n                <div class="col-12 mx-auto text-center">\n                    <button type="button" id="no-note-btn" class="btn main-btn w-100 mt-3">Không ghi chú</button>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-6 mx-auto text-center">\n                    <button type="button" id="submit-btn" class="btn main-btn w-100 mt-3">${e}</button>\n                </div>\n                <div class="col-6 mx-auto text-center">\n                    <button type="button" id="cancel-btn" class="btn grey-btn w-100 mt-3">Hủy</button>\n                </div>\n            </div>\n    \n        </div>`;appendInBody(),jQuery("body").append(o),jQuery("#shipping-note-popup").fadeIn(250),jQuery(".overlay-dark").one("click",(function(){jQuery("#shipping-note-popup").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#shipping-note-popup #cancel-button").one("click",(function(){jQuery("#shipping-note-popup").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#shipping-note-popup #submit-btn").one("click",(function(){var e=jQuery("#shipping-note-popup #shippingNote").first().val();e&&jQuery("#shipping-note-popup").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),n(e)}))})),jQuery("#shipping-note-popup #no-note-btn").one("click",(function(){jQuery("#shipping-note-popup").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),n("")}))}))}function getTextInput(e,n,o){var i=`<div id="inputDialog-name" class="popup-content dialog-popup"><div class="form-group">\n    <input type="text" name="" id="input-value" class="mainForm" value="${o}" placeholder="${n}"></div>\n    <div class="row"><div class="col-6"><button id="confirm-button" class=" main-btn btn">Xác nhận</button></div>\n    <div class="col-6"><button  id="cancel-button" class=" main-bg border btn">Hủy</button></div></div></div>`;appendInBody(),jQuery("body").append(i),jQuery("#inputDialog-name").fadeIn(350),jQuery(".overlay-dark").one("click",(function(){jQuery("#inputDialog-name").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog-name #cancel-button").one("click",(function(){jQuery("#inputDialog-name").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove()}))})),jQuery("#inputDialog-name #confirm-button").one("click",(function(){var n=jQuery("#inputDialog-name #input-value").first().val();n&&jQuery("#inputDialog-name").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),e(n)}))}))}function selectItem(e,n){jQuery(n).removeClass("selected"),jQuery(e).addClass("selected"),window.searchProdReference.zone.run(()=>{window.searchProdReference.itemSelected(jQuery(e).attr("data-id"))})}function setSelectedCustomerItem(e){jQuery("#customer-list").each((function(){jQuery(this).find(".customer-item").each((function(){jQuery(this).attr("data-id")===e&&jQuery(this).addClass("selected")}))}))}function openConfirm(e,n,o,i,t,r){null==t&&(t="Có"),null==r&&(r="Không");let a=`<div id="confirmDialog" class="popup-content dialog-popup">\n                <img src="../../../assets/images/confirm.png" alt="">\n                <p>${e}</p>\n                <div class="row"><div class="col-6"><button class=" main-btn btn" id="success-btn">${t}</button></div>\n                <div class="col-6"><button class=" main-bg border btn" id="cancel-btn">${r}</button></div></div>\n                </div>`;appendInBody(),jQuery("body").append(a),jQuery("#confirmDialog").fadeIn(350),jQuery("#confirmDialog #success-btn").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(".overlay-dark").remove(),jQuery(this).remove(),null!=n&&n()}))})),jQuery("#confirmDialog #cancel-btn").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(this).remove(),jQuery(".overlay-dark").remove(),null!=o&&o()}))})),jQuery(".overlay-dark").one("click",(function(){jQuery("#confirmDialog").hide(250,(function(){jQuery(this).remove(),jQuery(".overlay-dark").remove(),null!=i&&i()}))}))}function viewImages(e){jQuery(".img-container").css("height","100%");let n=appendInBody();jQuery("#view-product").slideDown(250),jQuery(n?".overlay-dark:not(.layer2)":".overlay-dark.layer2").one("click",(function(){jQuery(this).remove(),jQuery("#view-product").slideUp(250,(function(){null!=e&&e()}))}))}function viewProductImg(e,n){if(isOnMobile())return"undefined"!=typeof Android&&null!==Android?(Android.viewImage(e),void(null!=n&&n())):(webkit.messageHandlers.callback.postMessage(JSON.stringify({dataType:"viewImage",data:e})),void(null!=n&&n()));viewImages(n)}function viewCustomerInfo(){appendInBody(),jQuery("#colorBoard").slideDown(250),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#colorBoard").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove()}))}))}function openTagMenu(){jQuery("body").append("<div class='overlay-dark' id='tags-menu-bg'></div>"),jQuery("#tagsMenu").slideDown(250),jQuery("#tags-menu-bg").one("click",(function(){jQuery("#tagsMenu").slideUp(250,(function(){jQuery("#tags-menu-bg").remove(),window.searchProdReference.zone.run(()=>{window.searchProdReference.tagsSelected()})}))}))}function chooseFlorist(e){appendInBody(),jQuery("#viewed.florist").fadeIn(250),jQuery("#viewed.florist .viewItem").one("click",(function(){jQuery("#viewed.florist .viewItem").off("click");var n=jQuery(this).attr("id");jQuery("#viewed.florist").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove(),e(n)}))})),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#viewed.florist").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove()}))}))}function chooseShipper(e){appendInBody(),jQuery("#viewed.shipper").fadeIn(250),jQuery("#viewed.shipper .viewItem-three-column").on("click",(function(){jQuery("#viewed.shipper .viewItem-three-column").off("click");var n=jQuery(this).attr("id");jQuery("#viewed.shipper").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove(),e(n)}))})),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#viewed.shipper").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove()}))}))}function makingTimeRequest(e,n){appendInBody(),jQuery("#makingTimeRequest").fadeIn(350),jQuery("#makingTimeRequest #submit-btn").off("click"),jQuery("#makingTimeRequest #submit-btn").on("click",(function(){jQuery("#makingTimeRequest").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove(),e()}))})),jQuery("#makingTimeRequest #choose-florist-btn").off("click"),jQuery("#makingTimeRequest #choose-florist-btn").one("click",(function(){jQuery("#makingTimeRequest").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove(),n()}))})),jQuery("#makingTimeRequest #cancel-btn").off("click"),jQuery("#makingTimeRequest #cancel-btn").one("click",(function(){jQuery("#makingTimeRequest").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove()}))})),jQuery(".overlay-dark:not(.layer2)").off("click"),jQuery(".overlay-dark:not(.layer2)").one("click",(function(){jQuery("#makingTimeRequest").hide(250,(function(){jQuery(".overlay-dark:not(.layer2)").remove()}))}))}function addressRequest(e,n,o){let i='<option value="NULL">Quận/Huyện</option>';e.forEach((function(e){i+=`<option value="${e.Id}">${e.Name}</option>`}));let t=`<div id="addressAdd" class="popup-content">\n        <div class="form-group">\n            <select class="mainForm" name="" id="district-select">\n              ${i}\n            </select>\n        </div>\n        <div class="form-group">\n            <select class="mainForm" name="" id="ward-select">\n                <option value="0">Phường/Xã</option>\n            </select>\n        </div>\n        <div class="form-group">\n            <input type="text" name="" id="address-detail" class="mainForm" placeholder="Số nhà - Tên đường...">\n        </div>\n        <div class="row">\n            <div class="col-6 mx-auto text-center">\n                <button type="button" id="cancel-btn" class="btn grey-btn w-100 mt-3">Hủy</button>\n            </div>\n            <div class="col-6 mx-auto text-center">\n                <button type="button" id="submit-btn" class="btn main-btn w-100 mt-3">Lưu</button>\n            </div>\n        </div>\n        </div>`;appendInBody(),jQuery("body").append(t),jQuery("#addressAdd").fadeIn(350),jQuery("#addressAdd #district-select").on("change",(function(){let e="";$("#addressAdd #district-select option:selected").each((function(){e=$(this).val()}));let n='<option value="0">Phường/Xã</option>';o(e,(function(e){console.log(e),e.forEach((function(e){n+=`<option value="${e.Id}">${e.Name}</option>`})),jQuery("#addressAdd #ward-select").html(n)}))})),jQuery("#addressAdd #submit-btn").on("click",(function(){let e=$("#addressAdd #district-select option:selected").first().text(),o=$("#addressAdd #ward-select option:selected").first().text(),i=$("#addressAdd #address-detail").val();n(`${i} ${o} ${e}`),jQuery("#addressAdd").hide(250,(function(){jQuery(this).remove(),jQuery(".overlay-dark:not(.layer2)").remove()}))})),jQuery("#addressAdd #cancel-btn").one("click",(function(){jQuery("#addressAdd").hide(250,(function(){jQuery(this).remove(),jQuery(".overlay-dark:not(.layer2)").remove()}))})),jQuery(".overlay-dark:not(.layer2)").click((function(){jQuery("#addressAdd").hide(250,(function(){jQuery(this).remove(),jQuery(".overlay-dark").remove()}))}))}showAddNew=e=>{var n;switch(e){case"user":n='<div class="popupContent" id="userAdd">\n        <h4 class="userName">Thêm mới Nhân Viên</h4>\n        <hr class="adminSeperate">\n        <form action="">\n        <div class="form-row">\n        <div class="form-group col-md-6">\n        <label for="inputEmail4">Địa chỉ Email</label>\n        <input type="email" class="form-control" id="inputEmail4" placeholder="thanhhnp@gmail.com">\n        </div>\n        <div class="form-group col-md-6">\n        <label for="inputPassword4">Mật khẩu</label>\n        <input type="password" class="form-control" id="inputPassword4" placeholder="***********" >\n        </div>\n    </div>\n    <div class="form-row">\n        <div class="form-group col-md-6">\n            <label for="inputName">Họ và Tên</label>\n            <input type="text" class="form-control" id="inputName" placeholder="Adriana C. Ocampo Uria">\n        </div>\n        <div class="form-group col-md-6">\n            <label for="inputPhone">Số điện thoại</label>\n            <input type="text" class="form-control" id="inputPhone" placeholder="0898443222">\n        </div>\n    </div>\n    <div class="form-row">\n        <div class="form-group col-md-4">\n            <label for="selectDist">Quận/Huyện</label>\n            <select class="form-control" name="" id="selectDist">\n                <option value="0">Quận/Huyện</option>\n                <option value="1">Quận 1</option>\n                <option value="2">Quận 2</option>\n                <option value="3">Quận 10</option>\n                <option value="4">Quận 11</option>\n            </select>\n        </div>\n        <div class="form-group col-md-4">\n            <label for="selectWard">Phường/Xã</label>\n            <select class="form-control" name="" id="selectWard">\n                <option value="0">Phường/Xã</option>\n                <option value="1">Đa Kao</option>\n                <option value="2">Bến Nghé</option>\n            </select>\n        </div>\n        <div class="form-group col-md-4">\n            <label for="inputAddress">Địa chỉ</label>\n            <input type="text" class="form-control" id="inputAddress" placeholder="13A Đinh Tiên Hoàng - Q1 - TP. Hồ Chí Minh">\n        </div>\n    </div>\n    <div class="form-row">\n        \n        <div class="form-group col-md-3">\n            <label for="inputState">Quyền</label>\n                <select id="inputState" class="form-control">\n                <option selected>Choose...</option>\n                <option >Account</option>\n                <option>Shipper</option>\n                <option>Florist</option>\n                <option>Other</option>\n            </select>\n        </div>\n    </div>\n          <div class="form-group avatarChange">\n            <label for="">Chọn ảnh đại diện</label>\n            <input type="file" class="form-control-file" name="" id="" placeholder="" aria-describedby="fileHelpId">\n          </div>\n          <div class="form-action row">\n            <div class="col-md-3">\n                <div class="btn-group w-100">\n                    <button type="" class="btn btn-outline-success w-100" onclick="">Thêm Mới</button>\n                    <a href="javascript:void(0)" class="btn btn-outline-secondary" onclick="hideAdd()">Hủy</a>\n                </div>\n            </div>\n        </div> \n        </form>\n      </div>\n        ';break;case"customer":n='<div class="popupContent" id="customerAdd">\n            <h4 class="userName">Thêm mới Khách Hàng</h4>\n            <hr class="adminSeperate">\n            <form action="">\n            <div class="form-row">\n            <div class="form-group col-md-6">\n            <label for="inputEmail4">Địa chỉ Email</label>\n            <input type="email" class="form-control" id="inputEmail4" placeholder="thanhhnp@gmail.com">\n            </div>\n            <div class="form-group col-md-6">\n            <label for="inputPassword4">Mật khẩu</label>\n            <input type="password" class="form-control" id="inputPassword4" placeholder="***********" >\n            </div>\n        </div>\n        <div class="form-row">\n            <div class="form-group col-md-6">\n                <label for="inputName">Họ và Tên</label>\n                <input type="text" class="form-control" id="inputName" placeholder="Adriana C. Ocampo Uria">\n            </div>\n            <div class="form-group col-md-6">\n                <label for="inputPhone">Số điện thoại</label>\n                <input type="text" class="form-control" id="inputPhone" placeholder="0898443222">\n            </div>\n        </div>\n        <div class="form-row">\n            <div class="form-group col-md-4">\n                <label for="selectDist">Quận/Huyện</label>\n                <select class="form-control" name="" id="selectDist">\n                    <option value="0">Quận/Huyện</option>\n                    <option value="1">Quận 1</option>\n                    <option value="2">Quận 2</option>\n                    <option value="3">Quận 10</option>\n                    <option value="4">Quận 11</option>\n                </select>\n            </div>\n            <div class="form-group col-md-4">\n                <label for="selectWard">Phường/Xã</label>\n                <select class="form-control" name="" id="selectWard">\n                    <option value="0">Phường/Xã</option>\n                    <option value="1">Đa Kao</option>\n                    <option value="2">Bến Nghé</option>\n                </select>\n            </div>\n            <div class="form-group col-md-4">\n                <label for="inputAddress">Địa chỉ</label>\n                <input type="text" class="form-control" id="inputAddress" placeholder="13A Đinh Tiên Hoàng - Q1 - TP. Hồ Chí Minh">\n            </div>\n        </div>\n                <div class="form-action row">\n                <div class="col-md-3">\n                    <div class="btn-group w-100">\n                        <button type="" class="btn btn-outline-success w-100" onclick="">Thêm Mới</button>\n                        <a href="javascript:void(0)" class="btn btn-outline-secondary" onclick="hideAdd()">Hủy</a>\n                    </div>\n                </div>\n            </div> \n            </form>\n            </div>\n            ';break;case"product":n='<div class="popupContent" id="productAdd">\n        <h4 class="userName">Thêm mới Sản phẩm</h4>\n        <hr class="adminSeperate">\n        <form action="">\n        \n    <div class="form-row">\n        <div class="form-group col-md-4">\n            <label for="inputName">Mã Sản Phẩm</label>\n            <input type="text" class="form-control" id="inputName" placeholder="SP-009">\n        </div>\n        <div class="form-group col-md-4">\n            <label for="inputPrice">Giá Gốc (vnđ)</label>\n            <input type="number" class="form-control" id="inputPrice" placeholder="200000">\n        </div>\n        <div class="form-group col-md-4">\n            <label for="inputCate">Loại Sản Phẩm</label>\n                <select id="inputCate" class="form-control">\n                <option selected>Choose...</option>\n                <option >Hoa Hồng</option>\n                <option>Hoa Hướng Dương</option>\n                <option>Hoa Lyly</option>\n                <option>Hoa Cẩm Chướng</option>\n                </select>\n        </div>\n    </div>\n    <div class="form-row">\n        <div class="form-group col-md-6">\n            <label for="inputDesc">Mô tả</label>\n            <textarea id="inputDesc" class="form-control" cols="100" rows="5" placeholder="Mô tả sản phẩm"></textarea>\n        </div>\n        <div class="form-group col-md-6">\n            <label for="inputTag">Tag</label>\n            <div class="tagAdd">\n                <input type="text" class="form-control" value="" placeholder="Nhập tag mới">\n                <span class="addTagBtn">Thêm</span>\n            </div>\n            <div class="showTags"></div>\n            <ul class="tagList">\n                <li><span class="badge badge-pill badge-info p-2" onclick="selectTag(event)">hoa</span></li>\n                <li><span class="badge badge-pill badge-info p-2" onclick="selectTag(event)">hoa-hong</span></li>\n                <li><span class="badge badge-pill badge-info p-2" onclick="selectTag(event)">hoa-tuoi</span></li>\n                <li><span class="badge badge-pill badge-info p-2" onclick="selectTag(event)">hoa-lyly</span></li>\n                <li><span class="badge badge-pill badge-info p-2" onclick="selectTag(event)">bo-hoa</span></li>\n            </ul>\n        </div>\n    </div>\n    <div class="form-group avatarChange">\n            <label for="">Chọn ảnh đại diện</label>\n            <input type="file" class="form-control-file" name="" id="" placeholder="" aria-describedby="fileHelpId">\n          </div>\n          <div class="form-action row">\n            <div class="col-md-2"><button type="" class="btn btn-outline-success w-100" onclick="">Thêm Mới</button></div>\n            <div class="col-md-1"><a href="javascript:void(0)" class="btn btn-outline-secondary w-100" onclick="hideAdd()">Hủy</a></div>\n        </div> \n        </form>\n      </div>\n        ';break;case"tag":n='<div class="popupContent" id="tagAdd">\n        <h4 class="userName">Thêm mới Tag Sản phẩm</h4>\n        <hr class="adminSeperate">\n        <form action="">\n    <div class="form-row">\n        <div class="form-group col-md-6">\n            <label for="inputName">Tên Hiển Thị</label>\n            <input type="text" class="form-control" id="inputName" placeholder="Hoa Hồng">\n        </div>\n        <div class="form-group col-md-6">\n            <label for="inputPrice">Giá Trị</label>\n            <input type="text" class="form-control" id="inputValue" placeholder="hoa-hong">\n        </div>\n    </div>\n    <div class="form-row">\n        <div class="form-group col-md-12">\n            <label for="inputDesc">Mô tả</label>\n            <textarea id="inputDesc" class="form-control" cols="100" rows="5" placeholder="Mô tả sản phẩm"></textarea>\n        </div>\n    </div>\n          <div class="form-action row">\n            <div class="col-md-3">\n                <div class="btn-group w-100">\n                    <button type="" class="btn btn-outline-success w-100" onclick="">Thêm Mới</button>\n                    <a href="javascript:void(0)" class="btn btn-outline-secondary" onclick="hideAdd()">Hủy</a>\n                </div>\n            </div>\n        </div> \n        </form>\n      </div>\n        ';break;case"cate":n='<div class="popupContent" id="cateAdd">\n        <h4 class="userName">Thêm mới Danh mục Sản phẩm</h4>\n        <hr class="adminSeperate">\n        <form action="">\n            <div class="form-row">\n                <div class="form-group col-md-6">\n                    <label for="inputName">Mã Danh Mục</label>\n                    <input type="text" class="form-control" id="inputName" placeholder="DM_01">\n                </div>\n                <div class="form-group col-md-6">\n                    <label for="inputPrice">Tên Danh Mục</label>\n                    <input type="text" class="form-control" id="inputValue" placeholder="Giỏ hoa tươi">\n                </div>\n            </div>\n            <div class="form-action row">\n                <div class="col-md-3">\n                    <div class="btn-group w-100">\n                        <button type="" class="btn btn-outline-success w-100" onclick="">Thêm Mới</button>\n                        <a href="javascript:void(0)" class="btn btn-outline-secondary" onclick="hideAdd()">Hủy</a>\n                    </div>\n                </div>\n            </div> \n        </form>\n      </div>\n        '}jQuery(".adminWrapper").append(n),jQuery(".popupContent").slideDown(350)},hideAdd=()=>{jQuery(".popupContent").slideUp(250,(function(){}))},selectTag=e=>{var n=jQuery(e.target).text(),o=jQuery(".showTags").html();jQuery(".showTags").html(o+"<span onclick='removeTag(event)'>"+n+"</span>"),jQuery(e.target).parent("li").remove()},removeTag=e=>{var n=jQuery(e.target).text();jQuery("ul.tagList").append("<li><span class='badge badge-pill badge-info p-2' onclick='selectTag(event)'>"+n+"</span></li>"),jQuery(e.target).remove()},jQuery(document).ready((function(){jQuery(".popup-content img.item-detail-thumb").click((function(){var e=jQuery(this).attr("src");appendInBody(),jQuery("body").append("<div class='popup-image'><img src='"+e+"'></div>"),jQuery(".popup-image").show(250),jQuery(".overlay-dark").click((function(){jQuery(".popup-image").remove(),jQuery(this).remove()}))}))}));let rotationAmount=0;function rotateImage(){rotationAmount+=90,document.querySelector("#selected-image").style.transform=`rotate(${rotationAmount}deg)`}function locationDetection(e){if("undefined"!=typeof Android&&null!==Android)return Android.locationDetected(JSON.stringify(e))}function openImgsDialog(){appendInBody(),jQuery("#imgsDialog").slideDown(100,(function(){}))}function closeImgsDialog(){jQuery("#imgsDialog").hide(100,(function(){jQuery(".overlay-dark").remove()}))}var socket;function connectSocket(e,n){(socket=io.connect(e)).on("connected",e=>{n(),console.log("socket is connected")}),socket.on("printingNoResponse",()=>{errorToast("Không có thiết bị nào có thể kết nối tới máy in lúc này!")})}function forceLogoutRegister(e,n){socket?socket.on("forceLogout",n=>{console.log("force logout ne"),e(n.message)}):null!=n&&n()}function disConnectSocket(){socket&&(socket.disconnect(),socket.off("connected"),socket.off("printingNoResponse"),socket.off("doPrintJob"),socket=void 0)}function login(e,n){socket&&socket.emit("login",{userId:e,isPrinter:n})}function registerPrintEvent(e){socket&&socket.on("doPrintJob",n=>{e(n.printJob)})}function invokePrintJob(e){socket&&socket.emit("doPrintJob",{printJob:e})}